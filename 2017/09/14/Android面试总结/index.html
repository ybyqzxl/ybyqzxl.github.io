<!DOCTYPE html>
<html lang="zh">
    <head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><!-- 
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.0 -->

    <!-- Title -->
    
    <title>
        
            Android面试知识点总结 | 
        
        Xueli&#39;s Blog
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/china.png">
    <link rel="icon" sizes="192x192" href="/img/china.png">
    <link rel="apple-touch-icon" href="/img/china.png">

    <!-- Meta & Info -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Xueli">
    <meta name="description" content="在读研究生一枚.">
    <meta name="keywords" content="研究生一枚，Android，NLP, 情感分析">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Xueli&#39;s Blog">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://zhaoxueli.win">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Android面试知识点总结 | Xueli&#39;s Blog">
    <meta property="og:description" content="在读研究生一枚.">
    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }
</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(https://www.dujin.org/sys/bing/1920.php);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>



    <script src="/js/jquery.min.js"></script>
    <script src="/js/queue.js"></script>

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    

    

    <!-- Bing Background -->
    

    <!-- Custom Head --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn">
        

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script>
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').css('background-image', 'url(' + '/img/random/material-' + randomNum + '.png' + ')');
</script>

        
    
            <p class="article-headline-p">
                Android面试知识点总结
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/china.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Xueli</strong>
        <span>9月 14, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
            <i class="material-icons" role="presentation">devices other</i>
            <span class="visuallyhidden">devices other</span>
        </button>
        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
            <li class="mdl-menu__item">在其它设备中阅读本文章</li>
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACZUlEQVR42u3aQXKDQAwEQP7/6eQBKfBIWhbKaU4+YHubA1KNdPx89XXg4eHh4eHh4eG9jHfE19m3zn7n7/3559HZ8PDw8LbwPrxqL497dv/ZI0gex+hseHh4eBt5vWMl9ydF5froyX/h4eHhvZmXNL5JS42Hh4f333jXDXFeVPLYAg8PD+9tvPyI1dd9EvtWIw88PDy8Z3n5kGn/563zPTw8PLyAV15pigdXeTFIWvPm0hUeHh7eDbzqcCsPcKsrWdWlKzw8PLxneb1Xc/WgvWa6unaAh4eHdzcv+dp1c1wtGPmQrHoPHh4e3h7equFT8gt5mz55ZHh4eHh38+YjqPxYd4y78PDw8J7iVYOGPLboNeJJsRmtDuDh4eENeNEaUyuYyH+nWmw+lCI8PDy8LbxeuHBdMJrjq8EqAx4eHt4eXv43kzB30kxXY188PDy8Pbx5MSjErONCUi4MeHh4eEt51XF+L8BNikFvLIeHh4f3LG/tGKy6yFVtzcsDMDw8PLxFvPwV3FuWKoz8LxvowuANDw8P72ZePgDrxQrzldbyCA0PDw9vI28e1CbLW/mLflkYgYeHh7edl4cFvaWE6nrB4sKAh4eHt5S3dtjfKy3Lwgg8PDy8RbzqlYcUvaWB6voCHh4e3n7eEV/VqGKylDCJmPHw8PD28PIXfY6ftN15YcDDw8N7ltdbmcpDirxFri5y4eHh4b2fl3+3Gjfkj6+5roqHh4f3EG++PjVfrrq9pcbDw8NbFEZMQopq9JDHynh4eHj7eb0IYL6MlUcVScCBh4eHt4f3fRceHh4eHh4eHt4Lrl/RLDUAsSVSrAAAAABJRU5ErkJggg==">
        </ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    
    <!-- Leancloud Views -->
        <a class="post_share-link" href="#">
            <li class="mdl-menu__item">
                <span id="/2017/09/14/Android面试总结/" class="leancloud-views_num" data-flag-title="Android面试知识点总结">
     &nbsp;浏览量
</span>

            </li>
        </a>
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Android面试知识点总结&url=http://zhaoxueli.win//2017/09/14/Android面试总结/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    

    <!-- Share Facebook -->
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Xueli&#39;s Blog&title=Android面试知识点总结&summary=在读研究生一枚.&pics=http://zhaoxueli.win/img/china.png&url=http://zhaoxueli.win/2017/09/14/Android面试总结/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>  Andorid面试</p>
<hr>
<p>仅用作与记录自己看到的知识点总结，图片来源于网络 blog。</p>
<hr>
<p>###1. Activity 与 Fragment 的生命周期？</p>
<p>####Activity：</p>
<ul>
<li>启动 Activiy：onCreate-&gt;onStart()-&gt;onResume(),Activity 进入运行状态.</li>
<li>Activity 退居后台(Home 或启动新Activity):onPause()-&gt;onStop().</li>
<li>Activity 返回前台:onRestart()-&gt;onStart()-&gt;onResume().</li>
<li>Activity 后台期间内存不足情况下当再次启动会重新执行启动流程。</li>
<li>锁屏:onPause()-&gt;onStop().</li>
<li>解锁:onStart()-&gt;onResume().<br><img src="https://camo.githubusercontent.com/1523c46db6fb3e46f13db6effb0b27e972dd85d8/687474703a2f2f696d672e626c6f672e6373646e2e6e65742f3230313330383238313431393032383132" alt="Activity 启动流程示意图"><br>####Fragment:</li>
<li>创建 Fragment:onAttach()-&gt;onCreate-&gt;onCreateView()-&gt;onActivityCreate()-&gt;onStart()-&gt;onResume()</li>
<li>销毁 Fragment:onPause()-&gt;onStop()-&gt;onDestroyView()-&gt;onDestroy()-&gt;onDetach().</li>
<li>从返回栈中回到上一个 Fragment:onDestroyView()-&gt;onCreateView()-&gt;onActivityCreated()-&gt;onStart()-&gt;onResume().<br>####Activity 和 Fragment 关系：<br><img src="https://raw.githubusercontent.com/francistao/LearningNotes/master/Part1/Android/FlowchartDiagram.jpg" alt="此处输入图片的描述"></li>
</ul>
<p>###2. Activity 的四种启动模式和特点？</p>
<ul>
<li>standard(标准模式):每次启动都会创建一个新的实例，并放入栈顶。（<strong>无法使用非 Activity 类的 Context 启动该模式的 Activity，如果启动需要加上 FlAG_ACTIVITY_NEW_TASK标记创建一个栈</strong>）。</li>
<li>singleTop(栈顶复用模式):如果启动的 Activity 在栈顶，则该 Activity 不会重建，同时 Activity 的 onNewIntent() 方法会被调用，如果不在栈顶则通 standar 模式。</li>
<li>singleTask(栈内复用模式):若启动的 Activity 在栈内，则不会创建新的实例调用 onNewIntent() 方法，并将该 Activity 上面所以的 Activity 清空（<strong>如果其他应用启动该 Activity，若不存在则简历新的 Task，若存在在后台，则后台 Task 也切换到前台</strong>）。</li>
<li>singleInstance(单例模式):新的 Activity 直接创建新的任务栈，当该模式的 Activity 存在于某个栈中，后面任何激活该 Activity 都会重用该实例。</li>
</ul>
<p>###3. Activity 的缓存方法？<br>Activity 由于异常终止时，系统会调用 onSaveInstanceState()来保存 Activity 状态(<strong>onStop()之前和onPause()没有既定的时序关系</strong>)。当重建时，会调用 onRestoreInstanceState()，并且把 Activity 销毁时 onSaveInstanceState()方法所保存的 Bundle 对象参数同时传递给 onSaveInstanceState()和onCreate()方法。因此，可通过 onRestoreInstanceState()方法来恢复 Activity 的状态，该方法的调用时机是在 onStart()之后。<br><strong>onCreate()和 onRestoreInstanceState()的区别</strong>：onRestoreInstanceState()回调则表明其中Bundle对象非空，不用加非空判断。onCreate()需要非空判断。建议使用onRestoreInstanceState().</p>
<p>###4. Service 的生命周期及两种启动方法。</p>
<ul>
<li>startService 启动服务: 用于启动一个服务执行后台任务，停止服务使用 stopService().</li>
<li>bindService 启动服务: 启动服务进行通信，停止服务使用 unbindService().<br><img src="http://upload-images.jianshu.io/upload_images/3985563-85614addbbec7a0c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="service 生命周期"></li>
<li><strong>startService/stopService</strong><br>onCreate()-&gt;onStartCommand()-&gt;onDestroy()<br><strong>第一次调用会触发 onCreate()和 onStartCommand，之后每次启动服务只触发 onStartCommand()</strong><br><strong>无论 startService 多少次，stopService 一次就会停止服务</strong></li>
<li><strong>bindService/unbindService</strong><br>onCreate-&gt;onBind()-&gt;onUnbind()-&gt;onDestroy()<br><strong>第一次 bindService 会触发 onCreate 和 onBind，以后每次 bindService 都不会触发任何回调</strong><br><strong>bindService 启动的生命周期依附于启动它的 Context</strong></li>
</ul>
<p>###5. Service 保活。</p>
<ul>
<li>在 onStartCommond()中将返回值设置为 START_STICKY</li>
<li>在 onDestroy()中重启 service</li>
<li>黑色保活：不同 app 进程利用广播相互唤起。</li>
<li>白色保活：启动前台 service</li>
<li>灰色保活：利用系统漏洞启动前台 service。</li>
</ul>
<p>###6. 广播的两种注册方法，有什么区别。</p>
<ul>
<li>动态注册：通过调用 Context.registerReceiver 进行注册，跟随组件的生命周期，特定时刻监听广播。</li>
<li>静态注册：在 AndroidMainfest.xml 中声明，程序关闭后仍会调用，常驻广播，时刻监听广播。</li>
</ul>
<p>###7. Intent的使用方法及所传递的数据类型。</p>
<ul>
<li>显示 Intent：按名指定要启动的组件</li>
<li>隐示 Intent：不指定特定组件，声明要执行的常规操作，从而允许其他应用中组件来处理。</li>
<li>Intent 可传递的数据类型：基本类型及其数组数据，String/CharSequence类型的数据及其数组数据，也可以传递Parcelable和Serializable类型的数据，以及它们的数组/列表数据。</li>
</ul>
<p>###8. ContentProvider使用方法。<br>进行跨进程通信，实现进程间得数据交互和共享。通过 Context 中 getContentResolver()获得实例，通过 Uri 匹配进行数据的增删改查。ContentProvider 使用表的形式来组织数据，无论数据的来源是什么，ContentProvider 都会认为是一种表，然后把数据组织成表格</p>
<p>###9. Thread、AsyncTask、IntentService的使用场景与特点。</p>
<ul>
<li>Thread线程，独立运行与于 Activity 的，当 Activity 被 finish 后，如果没有主动停止 Thread 或者 run 方法没有执行完，其会一直执行下去。</li>
<li>AsyncTask 封装了两个线程池和一个 Handler，（SerialExecutor用于排队，THREAD_POOL_EXECUTOR为真正的执行任务，Handler 将工作线程切换到主线程），其必须在 UI 线程中创建，execute 方法必须在 UI 线程中执行，一个任务实例只允许执行一次，执行多次将抛出异常，用于网络请求或者简单数据处理。</li>
<li>IntentService：处理异步请求，实现多线程，在 onHandleIntent 中处理耗时操作，多个耗时任务会依次执行，执行完毕后自动结束。</li>
</ul>
<p>###10. 五种布局: FrameLayout、LinearLayout、 AbsoluteLayout、RelativeLayout、TableLayout 各自特点及绘制效率对比。</p>
<ul>
<li>FrameLayout: Android 中最简单布局，所有控件默认出现在左上角，可以使用 layout_margin，layout_gravity 等属性控制子控件的相对布局位置。</li>
<li>LinearLayout: 一行或者一列布局空间，可使用 orientation=horizontal|vertical 来控制布局方式。</li>
<li>AbsoluteLayout: 自定义空间的x，y 来调整位置。</li>
<li>RelativeLayout: 相对布局，通过相关属性来定义空间的位置<blockquote>
<p>android:layout_centerInParent=”true|false”<br>android:layout_centerHorizontal=”true|false”<br>android:layout_alignParentRight=”true|false”</p>
</blockquote>
</li>
<li>TableLayout: 将字元素的位置以表格形式进行布局。</li>
</ul>
<p>###11. Android的数据存储形式。</p>
<ul>
<li>SQLite 数据库存储</li>
<li>文件存储</li>
<li>SharedPreference 存储</li>
<li>网络存储</li>
</ul>
<p>###12. SQlite 的基本操作<br>Android 提供了 SQLiteOpenHelper 类，通过该类可以简单控制数据库的创建和升级。</p>
<ul>
<li>onCreate(): 创建数据库</li>
<li>onUpgrade(): 升级数据库</li>
</ul>
<p>两个方法必须重写，然后实现创建和升级数据库的逻辑。</p>
<ul>
<li>getReadableDatabase()和 getWritableDatabase(): 创建或打开一个现有数据库，返回一个可对数据库进行读写操作的对象，当数据库不可写入的时候<strong>getReadableDatabase()</strong>以<strong>只读</strong>的方式返回数据库对象，<strong>getWritableDatabase()</strong>返回异常。</li>
<li>insert(): 插入数据</li>
<li>update(): 更新数据</li>
<li>delete(): 删除数据</li>
<li>query(): 查询数据</li>
</ul>
<p>###13. Android中的MVC模式。</p>
<ul>
<li>Model（模型）</li>
<li>View（视图）</li>
<li>Controler（控制器）</li>
</ul>
<p>View 传送指令到 Controller，其完成逻辑后通知 Model 改变状态，Model 将新数据更新到 View。<br>所有通信都为单向。<br>接受指令时，一是通过 View 接受指令并传递给 Controller；另一种是直接通过 Controller 接受指令。</p>
<p>###14. Merge、ViewStub 的作用。</p>
<ul>
<li>Merge: 减少视图层级，可以删除多余的层级，优化 UI。</li>
<li>ViewStub: 按需加载，减少内存使用量、加快渲染速度。<strong>不支持 merge 标签</strong></li>
</ul>
<p>###15. Json有什么优劣势。</p>
<p>####优点</p>
<ul>
<li>轻量级的数据交换格式</li>
<li>读写更加容易</li>
<li>易于机器的解析和生成</li>
</ul>
<p>####缺点</p>
<ul>
<li>语义性较差，不如 xml 直观</li>
</ul>
<p>###16. 动画有哪两类，各有什么特点？</p>
<ul>
<li>传统动画：帧动画和补间动画。</li>
<li>属性动画。<br>####区别</li>
<li>属性动画才是真正的实现了view的移动，补间动画对view的移动更像是在不同地方绘制了一个影子，实际的对象还是处于原来的地方。</li>
<li>当动画的repeatCount设置为无限循环时，如果在Activity退出时没有及时将动画停止，属性动画会导致Activity无法释放而导致内存泄漏，而补间动画却没有问题。</li>
<li>xml 文件实现的补间动画，复用率极高。在Activity切换，窗口弹出时等情景中有着很好的效果。</li>
<li>使用帧动画时需要注意，不要使用过多特别大的图，容易导致内存不足。</li>
</ul>
<p>###17. Handler、Loop消息队列模型，各部分的作用。</p>
<p>Android消息机制包含: MessageQuene、Handler、Looper、Message.</p>
<ul>
<li>Message: 需要春娣的消息，可以传递数据。</li>
<li>MessageQuene: 消息队列，通过单链表数据结构来维护消息列表，（投递和删除消息）。</li>
<li>Handler: 消息辅助类，向消息池发送各种消息事件<blockquote>
<p>Handler.sendMessage 发送消息<br>Handler.handleMessage 处理消息</p>
</blockquote>
</li>
<li>Looper: 不断从消息队里中读取消息，按分发机制将消息分发给目标处理者。<br>####MessageQuene、Handler 和 looper 三者之间的关系：<br>每个线程中只能存在一个Looper，保存在ThreadLocal中。主线程（UI线程）已经创建了一个Looper，所以在主线程中不需要再创建Looper，其他线程中需要创建Looper。每个线程中可以有多个Handler，即一个 Looper 可以处理来自多个 Handler 的消息。 Looper 中维护一个 MessageQueue，来维护消息队列，消息队列中的 Message 可以来自不同的 Handler。</li>
</ul>
<p>当调用 handler.sendMessage()发送 message 时，实际上发送到与当前线程绑定的 MessageQuene 中，然后当前线程绑定的 Looper 不断从 MessageQueue 取出新的 Message，调用 msg.target.disspatchMessage(msg) 方法将消息分发到与 Message 绑定的 handler.handleMessage()中。</p>
<p>###18. 怎样退出终止App。</p>
<ul>
<li>创建一个集合类对所有活动进行管理，ActivityCollector，通过 list 来管理 Activity。</li>
<li>killProcess(android.os.Process.myPid())杀死当前程序进程。</li>
</ul>
<p>###19. Asset目录与res目录的区别。</p>
<ul>
<li>assets：不会在 R 文件中生成相应标记，存放到这里的资源在打包时会打入程序安装包中。（通过 AssetManager 类访问这些文件）</li>
<li>res：会在 R 文件中生成 id 标记，资源在打包时如果使用到则打包到安装包中，未使用到不会打入安装包中。</li>
</ul>
<blockquote>
<p>res/anim:存放动画资源<br>res/raw：和 asset 下文件一样打包时直接打入程序安装包中（会映射到 R 文件中）</p>
</blockquote>
<table>
<thead>
<tr>
<th>Tables</th>
<th>assets</th>
<th>res/raw</th>
<th>res/drawable</th>
</tr>
</thead>
<tbody>
<tr>
<td>获取资源方式</td>
<td>文件路径+文件名</td>
<td>R.raw.xxx</td>
<td>R.drawable.xxx</td>
</tr>
<tr>
<td>是否被压缩</td>
<td>NO</td>
<td>NO</td>
<td>YES(失真压缩)</td>
</tr>
<tr>
<td>能否获取子目录下的资源</td>
<td>YES</td>
<td>NO</td>
<td>NO</td>
</tr>
</tbody>
</table>
<p>###20. Android怎么加速启动Activity。 </p>
<ol>
<li>onCreate()中不执行耗时操作</li>
</ol>
<ul>
<li>把页面显示的View细分一下，放在AsyncTask里逐步显示，用handler更好。这样用户的看到的就是有层次有步骤的一个个的view的展示，不会是先看到一个黑屏，然后一下显示所有view。</li>
<li>最好做成动画，效果更自然。</li>
<li>利用多线程的目的就是尽可能的减少onCreate和onReume的时间，使得用户能尽快看到页面，操作页面。</li>
</ul>
<ol>
<li>减少主线程阻塞时间</li>
<li>提高 Adapter 和 AdapterView 的效率</li>
<li>优化布局文件</li>
</ol>
<p>###21. Android性能优化方法</p>
<ol>
<li>布局优化：尽量减少布局文件的层级<ul>
<li>删除布局中无用的控件和层次，有选择的使用性能较低的 ViewGroup</li>
<li>采用标签，ViewStub，布局重用可降低布局的层级（ViewStub提供了按需加载的功能，当需要时才会将 ViewStub 中布局加载到内存，提高了初始化效率）</li>
<li>避免过度绘制</li>
</ul>
</li>
<li>绘制优化：View 的 onDraw 方法避免执行大量操作。<ul>
<li>onDraw 中不要创建新的布局对象。</li>
<li>onDraw 中不做耗时任务，大量循环十分抢占 cpu 时间片，造成 View 的绘制不流畅。</li>
</ul>
</li>
<li>内存泄漏优化<ul>
<li>避免写出内存泄漏代码</li>
<li>通过分析工具（MAT、LeakCannary）找出潜在的内存泄漏方法，然后解决。<blockquote>
<p>导致内存泄漏的原因:</p>
<ol>
<li>集合类的泄漏</li>
<li>单例/静态变量造成内存泄漏</li>
<li>匿名内部类/非静态内部类造成内存泄漏</li>
<li>资源未关闭</li>
</ol>
</blockquote>
</li>
</ul>
</li>
</ol>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用多说评论 -->
    <link rel="stylesheet" href="/css/duoshuo.min.css">
<style>
    #ds-thread #ds-reset .ds-post-button{
        background-color: #0097A7 !important;
    }
    #ds-wrapper #ds-reset .ds-icons-32{
        background-color: #0097A7 !important;
    }
    #ds-reset .ds-highlight {
        color: #0097A7 !important;
    }
</style>
<div id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread"
        data-thread-key="2017/09/14/Android面试总结/"
        data-url="http://zhaoxueli.win/2017/09/14/Android面试总结/"
        data-title="Android面试知识点总结">
    </div>
    <!-- 多说评论框 end -->
</div>






                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/03/20/运用约束性统计机器翻译进行-Aspect-Level-的跨语言情感分类-5/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/china.png" alt="Xueli's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        ybyqzxl@hotmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:ybyqzxl@hotmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">2</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/情感分析/">情感分析<span class="sidebar_archives-count">2</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">bookmark</i>
                
                标签
            </a>
        </li>
        
            <li class="divider"></li>
        
    
        <li>
            <a href="/about" title="关于">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/ybyqzxl" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.png);">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;Xueli's Blog
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->
<script src="/js/lazyload.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    <script src="/js/smoothscroll.js"></script>



    <!-- Leancloud -->
    <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
    <script>
        AV.initialize('YMBOpHQbSlmtVcbIDGOI7XxI-gzGzoHsz', 'w1ODLgn6JwWMwlJSon9thaiv');
    </script>
    <script>
    function showTime(Counter) {
        var query = new AV.Query(Counter);
        $('.leancloud-views_num').each(function() {
            var url = $(this).attr('id').trim();
            query.equalTo('url', url);
            query.find({
                success: function(results) {
                    if (results.length === 0) {
                        var content = '0 ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                        return;
                    }
                    for (var i = 0; i < results.length; i++) {
                        var object = results[i];
                        var content = object.get('time') + ' ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                    }
                },
                error: function(object, error) {
                    console.log('Error: ' + error.code + ' ' + error.message);
                }
            });
        });
    }

    function addCount(Counter) {
      var Counter = AV.Object.extend('Counter');
      url = $('.leancloud-views_num').attr('id').trim();
      title = $('.leancloud-views_num').attr('data-flag-title').trim();
      var query = new AV.Query(Counter);
      query.equalTo('url', url);
      query.find({
          success: function(results) {
            if (results.length > 0) {
                var counter = results[0];
                counter.fetchWhenSave(true);
                counter.increment('time');
                counter.save(null, {
                    success: function(counter) {
                        var content =  counter.get('time') + ' ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                    },
                    error: function(counter, error) {
                        console.log('Failed to save Visitor num, with error message: ' + error.message);
                    }
                });
            } else {
              var newcounter = new Counter();
              newcounter.set('title', title);
              newcounter.set('url', url);
              newcounter.set('time', 1);
              newcounter.save(null, {
                  success: function(newcounter) {
                      console.log('newcounter.get(\'time\')='+newcounter.get('time'));
                      var content = newcounter.get('time') + ' ' + $(document.getElementById(url)).text();
                      $(document.getElementById(url)).text(content);
                  },
                  error: function(newcounter, error) {
                      console.log('Failed to create');
                  }
              });
            }
        },
        error: function(error) {
            console.log('Error:' + error.code + ' ' + error.message);
        }
      });
    }
    $(function() {
        var Counter = AV.Object.extend('Counter');
        if ($('.leancloud-views_num').length === 1) {
            addCount(Counter);
        } else if ($('.post-title-link').length > 1) {
            showTime(Counter);
        }
    });
</script>






    <!-- 多说公共 js 代码 start -->
    <script type="text/javascript">
         queue.offer(function(){
            duoshuoQuery = {
                short_name: 'zhaoxueli'
            };
            (function() {
                var ds = document.createElement('script');
                ds.type = 'text/javascript';
                ds.async = true;
                ds.src = 'http://static.duoshuo.com/embed.js';
                ds.charset = 'UTF-8';
                (document.getElementsByTagName('head')[0]
                 || document.getElementsByTagName('body')[0]).appendChild(ds);
            })();
        });
    </script>
    <!-- 多说公共 js 代码 end -->





<!-- Swiftye -->


<!-- Local Search-->

    <script>
    var searchFunc = function(path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: 'xml',
            success: function( xmlResponse ) {
                // get the contents from search data
                var datas = $( 'entry', xmlResponse ).map(function() {
                    return {
                        title: $( 'title', this ).text(),
                        content: $('content',this).text(),
                        url: $( 'url' , this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function() {
                    var str='<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = '';
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function(data) {
                        var isMatch = true;
                        var content_index = [];
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g,'').toLowerCase();
                        var data_url = data.url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if(data_title !== '' && data_content !== '') {
                            keywords.forEach(function(keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if( index_title < 0 && index_content < 0 ) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += '<li><a href="'+ data_url +'" class="search-result-title" target="_blank">'+ data_title;
                            var content = data.content.trim().replace(/<[^>]+>/g, '');
                            if (first_occur >= 0) {
                                // cut out characters
                                var start = first_occur - 6;
                                var end = first_occur + 6;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 10;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, 'gi');
                                    match_content = match_content.replace(regS, '<em class="search-keyword">'+keyword+'</em>');
                                })
                                str += '<p class="search-result">' + match_content + '...</p>' +'</a>';
                            }
                        }
                    });
                    $resultContent.innerHTML = str;
                });
            }
        });
    }
</script>


    <script>
        var inputArea = document.querySelector('#search');
        var getSearchFile = function() {
            var path = 'search.xml';
            searchFunc(path, 'search', 'local-search-result');
        }

        if(inputArea) {
            inputArea.onfocus = function() {
                getSearchFile();
            }
        }
    </script>


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->


                </main>
            </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
        </body>
    
</html>
